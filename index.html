<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Sky Play</title>

    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
      crossorigin="anonymous"
    ></script>

    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/style.css" />
    <script src="js/index.js"></script>

    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

  </head>

  <body>
    <div class="contain">

      <!-- menu -->
      <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a style="color:#ff3333; font-weight: bold;" class="navbar-brand" href="#">SKY</a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse menu_items" id="navbarSupportedContent">
          <div class="col-sm-2">
            <img style="height: 15px" src="assets/people.svg" alt="">
            
              <img style="height: 15px" src="assets/bolinha.svg" alt="">
            
              <img style="height: 15px" src="assets/A.svg" alt="">
            
              <img style="height: 15px" src="assets/A.svg" alt="">
          </div>

          <div class="col-sm-2">
            <img style="height: 15px" src="assets/play.svg" alt="">
            <label>Play</label>
          </div>
          
          <div class="col-sm-2">
            <img style="height: 15px" src="assets//user.svg" alt="">
            <label>Entrar</label>
          
            <img style="height: 15px" src="assets/lupa.svg" alt="">
          </div>
        </div>
      </nav>

      <!-- menu filme, serie e canais -->
      <div>
        <h2>Filme, série e canais</h2>
      </div>

      <!-- carrossel -->
      <div
        id="carouselExampleCaptions"
        class="carousel slide"
        data-ride="carousel"
      >
        <ol id="qtde" class="carousel-indicators"></ol>

        <div id="carrossel_" class="carousel-inner"></div>

        <script>
          $.ajax({
            url: "https://sky-frontend.herokuapp.com/movies",
            success: function (data) {
              const carrossel = data[0].items;

              const movies = data[2].movies;

              var carrosselImagens = "";
              var qtdeImagens = "";

              var movies_ = ``;
              var moviesaasa = ``;

              for (let i = 0; i < carrossel.length; i++) {
                const element = carrossel[i];

                var img = element.images[0].url;
                var width = element.images[0].width;
                var height = element.images[0].height - 1000;

                if (i == 0) {
                  carrosselImagens = `
                  <div class="carousel-item active">
                    <img
                      style="width: ${width}, height: ${height}"
                      src=${img}
                      class="d-block w-100"
                      alt="..."
                    />
                  </div>`;

                  qtdeImagens = `
                  <li
                    data-target="#carouselExampleCaptions"
                    data-slide-to="0"
                    class="active"
                  ></li>`;

                  
                } else {
                  carrosselImagens += `
                  <div class="carousel-item">
                    <img
                    style="width: ${width}, height: ${height}"
                      src=${img}
                      class="d-block w-100"
                      alt="..."
                    />
                  </div>`;

                  qtdeImagens += `<li data-target="#carouselExampleCaptions" data-slide-to="${i}"></li>`;
                }
              }
              
              for (let x = 0; x < movies.length; x++) {
                var title = (movies[x].title);
                var img = movies[x].images[0].url;

                movies_ += `
                  <div class="gui-card">
                    <div class="gui-card__media">
                      <img
                        class="gui-card__img"
                        src="${img}"
                        alt="${title}"
                      />
                    </div>
                    <div class="gui-card__details">
                      <div class="gui-card__title">${title}</div>
                    </div>
                  </div>`;

                  moviesaasa += `<div class="gui-card">
                    <div class="gui-card__media">
                      <img
                        class="gui-card__img"
                        src="${img}"
                        alt="${title}"
                      />
                    </div>
                    <div class="gui-card__details">
                      <div class="gui-card__title">${title}</div>
                    </div>
                  </div>`;
              }

              document.getElementById(
                "carrossel_"
              ).innerHTML = carrosselImagens;
              document.getElementById("qtde").innerHTML = qtdeImagens;
              document.getElementById("movies").innerHTML = movies_;
              document.getElementById("moviesaasa").innerHTML = moviesaasa;
              
            },
          });
        </script>

        <!-- botoes de movimentação -->
        <a
          class="carousel-control-prev"
          href="#carouselExampleCaptions"
          role="button"
          data-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Anterior</span>
        </a>
        <a
          class="carousel-control-next"
          href="#carouselExampleCaptions"
          role="button"
          data-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Próximo</span>
        </a>
      </div>
      <!-- fim carrossel -->

      <!-- filmes -->
      <div class="slider">
        <h3>Filmes</h3>
        <span
          onmouseover="scrollEsquerda()"
          onmouseout="clearScroll()"
          class="handle handlePrev active"
        >
          <i class="fa fa-caret-left" aria-hidden="true"></i>
        </span>
        <div id="scroller_" class="row">
          <div class="row__inner">
            <div id="movies"></div>
          </div>
          <span
            onmouseover="scrollDireita(true)"
            onmouseout="clearScroll()"
            class="handle handleNext active"
          >
            <i class="fa fa-caret-right" aria-hidden="true"></i>
          </span>
        </div>
      </div>
    <!-- fim dos filmes -->

    <!-- filmes -->
    <div class="slider">
      <h3>Filmes</h3>
      <span
        onmouseover="scrollEsquerda()"
        onmouseout="clearScroll()"
        class="handle handlePrev active"
      >
        <i class="fa fa-caret-left" aria-hidden="true"></i>
      </span>
      <div id="scroller" class="row">
        <div class="row__inner">
          <div id="moviesaasa"></div>
        </div>
        <span
          onmouseover="scrollDireita()"
          onmouseout="clearScroll()"
          class="handle handleNext active"
        >
          <i class="fa fa-caret-right" aria-hidden="true"></i>
        </span>
      </div>
    </div>
  <!-- fim dos filmes -->
    
  
  </body>
</html>
